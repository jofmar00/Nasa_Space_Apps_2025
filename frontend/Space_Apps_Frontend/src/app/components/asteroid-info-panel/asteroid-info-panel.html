<aside class="asteroid-panel" [class.collapsed]="!isPanelOpen()">
  <button class="toggle-button" (click)="togglePanel()" [attr.aria-label]="isPanelOpen() ? 'Close panel' : 'Open panel'">
    <span class="toggle-icon">{{ isPanelOpen() ? '→' : '←' }}</span>
  </button>

  <div class="panel-content">
    <h2 class="asteroid-header">{{ selectedAsteroid()?.name }}</h2>

    <div class="asteroid-viewer" (click)="openCatalog()" title="Pulsa para seleccionar otro asteroide">
      <asteroid-visualizer [asteroidName]="selectedAsteroid()?.name?.toLowerCase() || ''" />
    </div>

    <div class="asteroid-properties">
      <div class="property">
        <span class="label">Diametro:</span>
        <span class="value">{{ formatDiameter(selectedAsteroid()?.diameter || 0) }}</span>
      </div>

      <div class="property">
        <span class="label">Masa:</span>
        <span class="value">{{ formatMass(selectedAsteroid()?.mass || 0) }}</span>
      </div>

      <div class="property" style="display: flex; flex-direction: column;">
        <div style="display: flex; justify-content: space-between;">
          <span class="label">Velocidad:</span>
          <span class="value">{{ selectedAsteroid()?.speed }}m/s</span>
        </div>
        <input type="range" name="speed" min="10000" max="100000" [(ngModel)]="selectedAsteroid()!.speed" />
      </div>
    </div>

    <button
      class="launch-button"
      [disabled]="!hasTarget() || isLaunching()"
      (click)="onLaunchClick()">
      {{ isLaunching() ? 'Lanzando...' : 'Lanzar asteroide' }}
    </button>
  </div>
</aside>

<asteroid-catalog-dialog #catalogDialog (asteroidSelected)="onAsteroidSelected($event)" />
